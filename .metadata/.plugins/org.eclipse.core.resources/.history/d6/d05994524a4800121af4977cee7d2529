package com.ibm.fp.scala

object ParallelComputing extends App {

  val max = 1000000

  def measure(msg: String)(body: => Unit) = { val b = System.nanoTime; body; println(msg + " : " + (System.nanoTime - b) / 1000000000.0 + " sec") }

  def linear = {

    val l = (1 to max).toList

    val sum = l.foldLeft(0) { case (l, e) => l + e }

  }

  def parallel = {

    val l = (1 to max).toList.par

    val sum = l.foldLeft(0) { case (l, e) => l + e }

  }

  for (i <- 1 to 1000) {
    measure("linear")(linear)
    measure("parallel")(parallel)
  }

}